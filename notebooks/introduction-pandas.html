<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.41">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nipun Batra, Shreyans Jain, Guntas Singh Saran">
<meta name="dcterms.date" content="2025-01-13">

<title>Introduction to Pandas – Probability Statistics Data Visualization Resources</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-49927ad6ac989989b068a441603fbd97.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-49927ad6ac989989b068a441603fbd97.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-adb28d7fcf6b112e59c58e7b06a875e4.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-fa03430056b538fb8858ca052f213237.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Probability Statistics Data Visualization Resources</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://nipunbatra.github.io"> 
<span class="menu-text">Instructor Homepage</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../notebooks.html"> 
<span class="menu-text">Notebooks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../slides.html"> 
<span class="menu-text">Slides</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#numpy-vs.-pandas-for-student-scores" id="toc-numpy-vs.-pandas-for-student-scores" class="nav-link active" data-scroll-target="#numpy-vs.-pandas-for-student-scores">2. Numpy vs.&nbsp;Pandas for Student Scores</a>
  <ul class="collapse">
  <li><a href="#creating-and-saving-student-data-to-excelcsv" id="toc-creating-and-saving-student-data-to-excelcsv" class="nav-link" data-scroll-target="#creating-and-saving-student-data-to-excelcsv">2.1 Creating and Saving Student Data to Excel/CSV</a></li>
  <li><a href="#reading-csv-in-numpy-basic-analysis" id="toc-reading-csv-in-numpy-basic-analysis" class="nav-link" data-scroll-target="#reading-csv-in-numpy-basic-analysis">2.2 Reading CSV in NumPy &amp; Basic Analysis</a></li>
  <li><a href="#plotting-student-scores-with-numpyseaborn" id="toc-plotting-student-scores-with-numpyseaborn" class="nav-link" data-scroll-target="#plotting-student-scores-with-numpyseaborn">2.3 Plotting Student Scores with NumPy/Seaborn</a></li>
  <li><a href="#histogram-of-student-scores-using-df.plot" id="toc-histogram-of-student-scores-using-df.plot" class="nav-link" data-scroll-target="#histogram-of-student-scores-using-df.plot">Histogram of Student Scores using df.plot()</a></li>
  <li><a href="#some-more-plotting-examples-with-pandas-df.plot" id="toc-some-more-plotting-examples-with-pandas-df.plot" class="nav-link" data-scroll-target="#some-more-plotting-examples-with-pandas-df.plot">Some more plotting examples with Pandas <code>df.plot()</code></a></li>
  <li><a href="#seeing-them-separately" id="toc-seeing-them-separately" class="nav-link" data-scroll-target="#seeing-them-separately">Seeing them separately</a></li>
  </ul></li>
  <li><a href="#core-pandas-data-structures" id="toc-core-pandas-data-structures" class="nav-link" data-scroll-target="#core-pandas-data-structures">3. Core Pandas Data Structures</a>
  <ul class="collapse">
  <li><a href="#series" id="toc-series" class="nav-link" data-scroll-target="#series">Series</a></li>
  <li><a href="#dataframe" id="toc-dataframe" class="nav-link" data-scroll-target="#dataframe">DataFrame</a></li>
  </ul></li>
  <li><a href="#indexing-selection" id="toc-indexing-selection" class="nav-link" data-scroll-target="#indexing-selection">4. Indexing &amp; Selection</a></li>
  <li><a href="#merging-joining-data" id="toc-merging-joining-data" class="nav-link" data-scroll-target="#merging-joining-data">5. Merging &amp; Joining Data</a></li>
  <li><a href="#groupby-aggregation" id="toc-groupby-aggregation" class="nav-link" data-scroll-target="#groupby-aggregation">6. GroupBy &amp; Aggregation</a>
  <ul class="collapse">
  <li><a href="#example-with-tips-data" id="toc-example-with-tips-data" class="nav-link" data-scroll-target="#example-with-tips-data">Example with tips data</a></li>
  </ul></li>
  <li><a href="#pivot-tables" id="toc-pivot-tables" class="nav-link" data-scroll-target="#pivot-tables">7. Pivot Tables</a></li>
  <li><a href="#string-operations" id="toc-string-operations" class="nav-link" data-scroll-target="#string-operations">8. String Operations</a></li>
  <li><a href="#using-eval-query" id="toc-using-eval-query" class="nav-link" data-scroll-target="#using-eval-query">9. Using <code>eval()</code> &amp; <code>query()</code></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to Pandas</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nipun Batra, Shreyans Jain, Guntas Singh Saran </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 13, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><a id="intro"></a> ## 1. Introduction</p>
<p><strong>Pandas</strong> is a powerful Python library for data manipulation, offering labeled data structures that make tasks like cleaning, transformation, merging, and analysis more convenient.</p>
<div id="cell-2" class="cell" data-tags="[]" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Using Pandas version:"</span>, pd.__version__)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Using NumPy version:"</span>, np.__version__)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Using Seaborn version:"</span>, sns.__version__)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>config InlineBackend.figure_format <span class="op">=</span> <span class="st">'retina'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Using Pandas version: 2.2.3
Using NumPy version: 2.1.2
Using Seaborn version: 0.13.2</code></pre>
</div>
</div>
<section id="numpy-vs.-pandas-for-student-scores" class="level2">
<h2 class="anchored" data-anchor-id="numpy-vs.-pandas-for-student-scores">2. Numpy vs.&nbsp;Pandas for Student Scores</h2>
<section id="creating-and-saving-student-data-to-excelcsv" class="level3">
<h3 class="anchored" data-anchor-id="creating-and-saving-student-data-to-excelcsv">2.1 Creating and Saving Student Data to Excel/CSV</h3>
<p>We’ll first generate some random student data: - <strong>Name</strong> (string) - <strong>Maths</strong> (integer) - <strong>Science</strong> (integer)</p>
<p>Then we’ll save to both <code>.xlsx</code> and <code>.csv</code> for demonstration.</p>
<div id="cell-5" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>num_students <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>student_data <span class="op">=</span> {</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Name"</span>: [</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Aarav"</span>, <span class="st">"Vivaan"</span>, <span class="st">"Aditya"</span>, <span class="st">"Ananya"</span>, <span class="st">"Ishita"</span>, <span class="st">"Kabir"</span>, <span class="st">"Nisha"</span>, <span class="st">"Rohan"</span>, <span class="st">"Priya"</span>, <span class="st">"Sneha"</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Aryan"</span>, <span class="st">"Meera"</span>, <span class="st">"Tanya"</span>, <span class="st">"Siddharth"</span>, <span class="st">"Neha"</span>, <span class="st">"Laksh"</span>, <span class="st">"Pooja"</span>, <span class="st">"Rahul"</span>, <span class="st">"Simran"</span>, <span class="st">"Kiran"</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Maths"</span>: np.random.randint(<span class="dv">50</span>, <span class="dv">100</span>, size<span class="op">=</span>num_students),</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Science"</span>: np.random.randint(<span class="dv">50</span>, <span class="dv">100</span>, size<span class="op">=</span>num_students),</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Economics"</span>: np.random.randint(<span class="dv">50</span>, <span class="dv">100</span>, size<span class="op">=</span>num_students),</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>df_students <span class="op">=</span> pd.DataFrame(student_data)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>df_students.to_excel(<span class="st">"student_scores.xlsx"</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>df_students.to_csv(<span class="st">"student_scores.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>df_students.head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Maths</th>
<th data-quarto-table-cell-role="th">Science</th>
<th data-quarto-table-cell-role="th">Economics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Aarav</td>
<td>53</td>
<td>56</td>
<td>67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Vivaan</td>
<td>94</td>
<td>88</td>
<td>85</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Aditya</td>
<td>84</td>
<td>65</td>
<td>69</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Ananya</td>
<td>98</td>
<td>90</td>
<td>96</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Ishita</td>
<td>72</td>
<td>74</td>
<td>78</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Kabir</td>
<td>79</td>
<td>56</td>
<td>60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Nisha</td>
<td>76</td>
<td>52</td>
<td>99</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Rohan</td>
<td>71</td>
<td>78</td>
<td>50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Priya</td>
<td>76</td>
<td>72</td>
<td>68</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Sneha</td>
<td>64</td>
<td>92</td>
<td>94</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="reading-csv-in-numpy-basic-analysis" class="level3">
<h3 class="anchored" data-anchor-id="reading-csv-in-numpy-basic-analysis">2.2 Reading CSV in NumPy &amp; Basic Analysis</h3>
<p>NumPy’s <code>loadtxt</code> can be used to read <strong>numeric</strong> data easily, but handling <strong>mixed types</strong> (e.g.&nbsp;strings + numbers) can be trickier. We’ll demonstrate a simple approach:</p>
<ol type="1">
<li>Read the entire CSV (skipping the header) using <code>np.loadtxt</code>.</li>
<li>We’ll parse the <strong>Name</strong> column as a string and the three score columns as integers.</li>
<li>Compute the mean of Maths and Science.</li>
<li>Find which student got the maximum in Science.</li>
<li>Find which student got the maximum of <code>|Maths - Science|</code>.</li>
</ol>
<div id="cell-7" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>head student_scores.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Name,Maths,Science,Economics
Aarav,53,56,67
Vivaan,94,88,85
Aditya,84,65,69
Ananya,98,90,96
Ishita,72,74,78
Kabir,79,56,60
Nisha,76,52,99
Rohan,71,78,50
Priya,76,72,68</code></pre>
</div>
</div>
<div id="cell-8" class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> np.loadtxt(<span class="st">"student_scores.csv"</span>, delimiter <span class="op">=</span> <span class="st">","</span>, skiprows <span class="op">=</span> <span class="dv">1</span>, dtype <span class="op">=</span> <span class="bu">str</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[['Aarav' '53' '56' '67']
 ['Vivaan' '94' '88' '85']
 ['Aditya' '84' '65' '69']
 ['Ananya' '98' '90' '96']
 ['Ishita' '72' '74' '78']
 ['Kabir' '79' '56' '60']
 ['Nisha' '76' '52' '99']
 ['Rohan' '71' '78' '50']
 ['Priya' '76' '72' '68']
 ['Sneha' '64' '92' '94']
 ['Aryan' '60' '92' '97']
 ['Meera' '62' '56' '89']
 ['Tanya' '70' '78' '88']
 ['Siddharth' '73' '72' '83']
 ['Neha' '79' '85' '95']
 ['Laksh' '68' '62' '88']
 ['Pooja' '63' '62' '57']
 ['Rahul' '81' '63' '67']
 ['Simran' '69' '98' '78']
 ['Kiran' '85' '82' '95']]</code></pre>
</div>
</div>
<div id="cell-9" class="cell" data-execution_count="85">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.dtype)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;U9</code></pre>
</div>
</div>
<div id="cell-10" class="cell" data-execution_count="86">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> data[:, <span class="dv">0</span>].tolist()</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>maths_np <span class="op">=</span> np.array(data[:, <span class="dv">1</span>].astype(<span class="bu">int</span>))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>science_np <span class="op">=</span> np.array(data[:, <span class="dv">2</span>].astype(<span class="bu">int</span>))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>eco_np <span class="op">=</span> np.array(data[:, <span class="dv">3</span>].astype(<span class="bu">int</span>))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Names:"</span>, names)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Maths scores:"</span>, maths_np)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Science scores:"</span>, science_np)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Economics scores:"</span>, eco_np)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Names: ['Aarav', 'Vivaan', 'Aditya', 'Ananya', 'Ishita', 'Kabir', 'Nisha', 'Rohan', 'Priya', 'Sneha', 'Aryan', 'Meera', 'Tanya', 'Siddharth', 'Neha', 'Laksh', 'Pooja', 'Rahul', 'Simran', 'Kiran']
Maths scores: [53 94 84 98 72 79 76 71 76 64 60 62 70 73 79 68 63 81 69 85]
Science scores: [56 88 65 90 74 56 52 78 72 92 92 56 78 72 85 62 62 63 98 82]
Economics scores: [67 85 69 96 78 60 99 50 68 94 97 89 88 83 95 88 57 67 78 95]</code></pre>
</div>
</div>
<div id="cell-11" class="cell" data-execution_count="88">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(maths_np))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(maths_np.dtype)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'numpy.ndarray'&gt;
int64</code></pre>
</div>
</div>
<div id="cell-12" class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>mean_maths <span class="op">=</span> np.mean(maths_np)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>mean_science <span class="op">=</span> np.mean(science_np)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>mean_eco <span class="op">=</span> np.mean(eco_np)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Mean Maths score: </span><span class="sc">{</span>mean_maths<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Mean Science score: </span><span class="sc">{</span>mean_science<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Mean Economics score: </span><span class="sc">{</span>mean_eco<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Mean Maths score (integer): </span><span class="sc">{</span>mean_maths<span class="sc">:.2f}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Mean Maths score: 73.850
Mean Science score: 73.650
Mean Economics score: 80.150

Mean Maths score (integer): 73.85</code></pre>
</div>
</div>
<div id="cell-13" class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Finding student with maximum science</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>max_sci_idx <span class="op">=</span> np.argmax(science_np)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(max_sci_idx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>18</code></pre>
</div>
</div>
<div id="cell-14" class="cell" data-execution_count="93">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># since we need the name of the student, we use the index (from argmax) to find the name</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>max_sci_student <span class="op">=</span> names[max_sci_idx]</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>max_sci_val <span class="op">=</span> science_np[max_sci_idx]</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Student with maximum science score: </span><span class="sc">{</span>max_sci_student<span class="sc">}</span><span class="ss"> (</span><span class="sc">{</span>max_sci_val<span class="sc">}</span><span class="ss">)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Student with maximum science score: Simran (98)</code></pre>
</div>
</div>
<div id="cell-15" class="cell" data-execution_count="94">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Likewise for finding student with maximum |Maths - Science| score</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>diff <span class="op">=</span> np.<span class="bu">abs</span>(maths_np <span class="op">-</span> science_np)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>max_diff_idx <span class="op">=</span> np.argmax(diff)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>max_diff_student <span class="op">=</span> names[max_diff_idx]</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Student with max |Maths - Science|: </span><span class="sc">{</span>max_diff_student<span class="sc">}</span><span class="ss"> (|</span><span class="sc">{</span>maths_np[max_diff_idx]<span class="sc">}</span><span class="ss"> - </span><span class="sc">{</span>science_np[max_diff_idx]<span class="sc">}</span><span class="ss">| = </span><span class="sc">{</span>diff[max_diff_idx]<span class="sc">}</span><span class="ss">)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Student with max |Maths - Science|: Aryan (|60 - 92| = 32)</code></pre>
</div>
</div>
</section>
<section id="plotting-student-scores-with-numpyseaborn" class="level3">
<h3 class="anchored" data-anchor-id="plotting-student-scores-with-numpyseaborn">2.3 Plotting Student Scores with NumPy/Seaborn</h3>
<div id="cell-17" class="cell" data-execution_count="95">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define bar width and positions</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>bar_width <span class="op">=</span> <span class="fl">0.25</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.arange(<span class="bu">len</span>(names))</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the figure and axis</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the bars</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>ax.bar(x <span class="op">-</span> bar_width, maths_np, width<span class="op">=</span>bar_width, label<span class="op">=</span><span class="st">"Maths"</span>, color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>ax.bar(x, science_np, width<span class="op">=</span>bar_width, label<span class="op">=</span><span class="st">"Science"</span>, color<span class="op">=</span><span class="st">'green'</span>)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>ax.bar(x <span class="op">+</span> bar_width, eco_np, width<span class="op">=</span>bar_width, label<span class="op">=</span><span class="st">"Economics"</span>, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize the plot</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Student Marks in Three Subjects"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">"Students"</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Marks"</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>ax.set_xticks(x)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(names, rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>ax.legend(title<span class="op">=</span><span class="st">"Subjects"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-13-output-1.png" width="1008" height="596" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><a id="pandas_read"></a> ### 2.4 Reading CSV in Pandas &amp; Repeating Analysis With Pandas, we can directly do:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"student_scores.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>and the DataFrame will automatically separate columns into name, maths, and science. Then we can easily compute means, maxima, etc.</p>
<div id="cell-19" class="cell" data-execution_count="96">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df_students_pandas <span class="op">=</span> pd.read_csv(<span class="st">"student_scores.csv"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>df_students_pandas</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="96">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Maths</th>
<th data-quarto-table-cell-role="th">Science</th>
<th data-quarto-table-cell-role="th">Economics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Aarav</td>
<td>53</td>
<td>56</td>
<td>67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Vivaan</td>
<td>94</td>
<td>88</td>
<td>85</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Aditya</td>
<td>84</td>
<td>65</td>
<td>69</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Ananya</td>
<td>98</td>
<td>90</td>
<td>96</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Ishita</td>
<td>72</td>
<td>74</td>
<td>78</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Kabir</td>
<td>79</td>
<td>56</td>
<td>60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Nisha</td>
<td>76</td>
<td>52</td>
<td>99</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Rohan</td>
<td>71</td>
<td>78</td>
<td>50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Priya</td>
<td>76</td>
<td>72</td>
<td>68</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Sneha</td>
<td>64</td>
<td>92</td>
<td>94</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Aryan</td>
<td>60</td>
<td>92</td>
<td>97</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Meera</td>
<td>62</td>
<td>56</td>
<td>89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Tanya</td>
<td>70</td>
<td>78</td>
<td>88</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Siddharth</td>
<td>73</td>
<td>72</td>
<td>83</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Neha</td>
<td>79</td>
<td>85</td>
<td>95</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Laksh</td>
<td>68</td>
<td>62</td>
<td>88</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Pooja</td>
<td>63</td>
<td>62</td>
<td>57</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Rahul</td>
<td>81</td>
<td>63</td>
<td>67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Simran</td>
<td>69</td>
<td>98</td>
<td>78</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Kiran</td>
<td>85</td>
<td>82</td>
<td>95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-20" class="cell" data-execution_count="97">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df_students_pandas.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="97">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Maths</th>
<th data-quarto-table-cell-role="th">Science</th>
<th data-quarto-table-cell-role="th">Economics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>20.000000</td>
<td>20.000000</td>
<td>20.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>73.850000</td>
<td>73.650000</td>
<td>80.150000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>11.230949</td>
<td>14.224793</td>
<td>14.928866</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>53.000000</td>
<td>52.000000</td>
<td>50.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>67.000000</td>
<td>62.000000</td>
<td>67.750000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>72.500000</td>
<td>73.000000</td>
<td>84.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>79.500000</td>
<td>85.750000</td>
<td>94.250000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>98.000000</td>
<td>98.000000</td>
<td>99.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-21" class="cell" data-execution_count="99">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>head student_scores.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Name,Maths,Science,Economics
Aarav,53,56,67
Vivaan,94,88,85
Aditya,84,65,69
Ananya,98,90,96
Ishita,72,74,78
Kabir,79,56,60
Nisha,76,52,99
Rohan,71,78,50
Priya,76,72,68</code></pre>
</div>
</div>
<div id="cell-22" class="cell" data-execution_count="100">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>df_students_pandas.head?</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">Signature:</span> df_students_pandas<span class="ansi-blue-fg">.</span>head<span class="ansi-blue-fg">(</span>n<span class="ansi-blue-fg">:</span> <span class="ansi-blue-fg">'int'</span> <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">5</span><span class="ansi-blue-fg">)</span> <span class="ansi-blue-fg">-&gt;</span> <span class="ansi-blue-fg">'Self'</span>
<span class="ansi-red-fg">Docstring:</span>
Return the first `n` rows.
This function returns the first `n` rows for the object based
on position. It is useful for quickly testing if your object
has the right type of data in it.
For negative values of `n`, this function returns all rows except
the last `|n|` rows, equivalent to ``df[:n]``.
If n is larger than the number of rows, this function returns all rows.
Parameters
----------
n : int, default 5
    Number of rows to select.
Returns
-------
same type as caller
    The first `n` rows of the caller object.
See Also
--------
DataFrame.tail: Returns the last `n` rows.
Examples
--------
&gt;&gt;&gt; df = pd.DataFrame({'animal': ['alligator', 'bee', 'falcon', 'lion',
...                    'monkey', 'parrot', 'shark', 'whale', 'zebra']})
&gt;&gt;&gt; df
      animal
0  alligator
1        bee
2     falcon
3       lion
4     monkey
5     parrot
6      shark
7      whale
8      zebra
Viewing the first 5 lines
&gt;&gt;&gt; df.head()
      animal
0  alligator
1        bee
2     falcon
3       lion
4     monkey
Viewing the first `n` lines (three in this case)
&gt;&gt;&gt; df.head(3)
      animal
0  alligator
1        bee
2     falcon
For negative values of `n`
&gt;&gt;&gt; df.head(-3)
      animal
0  alligator
1        bee
2     falcon
3       lion
4     monkey
5     parrot
<span class="ansi-red-fg">File:</span>      ~/mambaforge/lib/python3.12/site-packages/pandas/core/generic.py
<span class="ansi-red-fg">Type:</span>      method</pre>
</div>
</div>
</div>
<div id="cell-23" class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>df_students_pandas.head(n<span class="op">=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="101">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Maths</th>
<th data-quarto-table-cell-role="th">Science</th>
<th data-quarto-table-cell-role="th">Economics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Aarav</td>
<td>53</td>
<td>56</td>
<td>67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Vivaan</td>
<td>94</td>
<td>88</td>
<td>85</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Aditya</td>
<td>84</td>
<td>65</td>
<td>69</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Ananya</td>
<td>98</td>
<td>90</td>
<td>96</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Ishita</td>
<td>72</td>
<td>74</td>
<td>78</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Kabir</td>
<td>79</td>
<td>56</td>
<td>60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Nisha</td>
<td>76</td>
<td>52</td>
<td>99</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Rohan</td>
<td>71</td>
<td>78</td>
<td>50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Priya</td>
<td>76</td>
<td>72</td>
<td>68</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Sneha</td>
<td>64</td>
<td>92</td>
<td>94</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-24" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df_students_pandas.tail()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Maths</th>
<th data-quarto-table-cell-role="th">Science</th>
<th data-quarto-table-cell-role="th">Economics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>Laksh</td>
<td>68</td>
<td>62</td>
<td>88</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>Pooja</td>
<td>63</td>
<td>62</td>
<td>57</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>Rahul</td>
<td>81</td>
<td>63</td>
<td>67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>Simran</td>
<td>69</td>
<td>98</td>
<td>78</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>Kiran</td>
<td>85</td>
<td>82</td>
<td>95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-25" class="cell" data-execution_count="102">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying the indices and columns</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Indices: </span><span class="sc">{</span>df_students_pandas<span class="sc">.</span>index<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Columns: </span><span class="sc">{</span>df_students_pandas<span class="sc">.</span>columns<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Indices: RangeIndex(start=0, stop=20, step=1)
Columns: Index(['Name', 'Maths', 'Science', 'Economics'], dtype='object')</code></pre>
</div>
</div>
<div id="cell-26" class="cell" data-execution_count="103">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying the data types of each column</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Data Info:"</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>df_students_pandas.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Data Info:
&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 20 entries, 0 to 19
Data columns (total 4 columns):
 #   Column     Non-Null Count  Dtype 
---  ------     --------------  ----- 
 0   Name       20 non-null     object
 1   Maths      20 non-null     int64 
 2   Science    20 non-null     int64 
 3   Economics  20 non-null     int64 
dtypes: int64(3), object(1)
memory usage: 772.0+ bytes</code></pre>
</div>
</div>
<div id="cell-27" class="cell" data-execution_count="104">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Mean Maths:"</span>, df_students_pandas[<span class="st">'Maths'</span>].mean())</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mean Science:"</span>, df_students_pandas[<span class="st">'Science'</span>].mean())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Mean Maths: 73.85
Mean Science: 73.65</code></pre>
</div>
</div>
<div id="cell-28" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Student with maximum science using different indexing methods</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>df_students_pandas.loc[df_students_pandas[<span class="st">'Science'</span>].idxmax()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>Name         Simran
Maths            69
Science          98
Economics        78
Name: 18, dtype: object</code></pre>
</div>
</div>
<div id="cell-29" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Student with maximum |Maths - Science|</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>diff_pd <span class="op">=</span> (df_students_pandas[<span class="st">'Maths'</span>] <span class="op">-</span> df_students_pandas[<span class="st">'Science'</span>]).<span class="bu">abs</span>()</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>max_diff_idx_pd <span class="op">=</span> diff_pd.idxmax()</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Student with max |Maths - Science|:"</span>, df_students_pandas.loc[max_diff_idx_pd, <span class="st">'Name'</span>], diff_pd[max_diff_idx_pd])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Student with max |Maths - Science|: Aryan 32</code></pre>
</div>
</div>
</section>
<section id="histogram-of-student-scores-using-df.plot" class="level3">
<h3 class="anchored" data-anchor-id="histogram-of-student-scores-using-df.plot">Histogram of Student Scores using df.plot()</h3>
<div id="cell-31" class="cell" data-execution_count="105">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>df_students_pandas.plot.hist(subplots<span class="op">=</span><span class="va">True</span>, layout<span class="op">=</span>(<span class="dv">1</span>, <span class="dv">3</span>), figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">6</span>), bins<span class="op">=</span><span class="dv">10</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="105">
<pre><code>array([[&lt;Axes: ylabel='Frequency'&gt;, &lt;Axes: ylabel='Frequency'&gt;,
        &lt;Axes: ylabel='Frequency'&gt;]], dtype=object)</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-25-output-2.png" width="1468" height="505" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-32" class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>df_students_pandas.plot.hist(subplots<span class="op">=</span><span class="va">True</span>, layout<span class="op">=</span>(<span class="dv">3</span>, <span class="dv">1</span>), figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">9</span>), bins<span class="op">=</span><span class="dv">10</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="106">
<pre><code>array([[&lt;Axes: ylabel='Frequency'&gt;],
       [&lt;Axes: ylabel='Frequency'&gt;],
       [&lt;Axes: ylabel='Frequency'&gt;]], dtype=object)</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-26-output-2.png" width="537" height="736" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-33" class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>df_students_pandas.plot.hist(subplots<span class="op">=</span><span class="va">False</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-27-output-1.png" width="554" height="413" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-34" class="cell" data-execution_count="108">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>df_students_pandas.plot.density()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-28-output-1.png" width="584" height="413" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="some-more-plotting-examples-with-pandas-df.plot" class="level3">
<h3 class="anchored" data-anchor-id="some-more-plotting-examples-with-pandas-df.plot">Some more plotting examples with Pandas <code>df.plot()</code></h3>
<div id="cell-36" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>normal <span class="op">=</span> pd.Series(np.random.normal(loc <span class="op">=</span> <span class="dv">10</span>, scale <span class="op">=</span> <span class="dv">2</span>, size <span class="op">=</span> <span class="dv">2000</span>)) <span class="co"># loc is mean, scale is standard deviation</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>gamma <span class="op">=</span> pd.Series(np.random.gamma(shape <span class="op">=</span> <span class="dv">2</span>, scale <span class="op">=</span> <span class="dv">2</span>, size <span class="op">=</span> <span class="dv">2000</span>)) <span class="co"># shape is k, scale is theta</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>uniform <span class="op">=</span> pd.Series(np.random.uniform(low <span class="op">=</span> <span class="dv">0</span>, high <span class="op">=</span> <span class="dv">10</span>, size <span class="op">=</span> <span class="dv">2000</span>)) <span class="co"># low is a, high is b</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">'Normal'</span>: normal, <span class="st">'Gamma'</span>: gamma, <span class="st">'Uniform'</span>: uniform})</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Normal</th>
<th data-quarto-table-cell-role="th">Gamma</th>
<th data-quarto-table-cell-role="th">Uniform</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>8.566490</td>
<td>4.439362</td>
<td>2.169578</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>10.946834</td>
<td>5.073406</td>
<td>0.512258</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>7.099340</td>
<td>1.638423</td>
<td>2.346859</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>11.799476</td>
<td>0.733187</td>
<td>2.480262</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>9.174528</td>
<td>4.601980</td>
<td>5.228461</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-37" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>df.plot(kind<span class="op">=</span><span class="st">'hist'</span>, bins<span class="op">=</span><span class="dv">200</span>, alpha<span class="op">=</span><span class="fl">0.6</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Histogram of Distributions"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Value"</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Frequency"</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-30-output-1.png" width="999" height="553" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="seeing-them-separately" class="level3">
<h3 class="anchored" data-anchor-id="seeing-them-separately">Seeing them separately</h3>
<div id="cell-39" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">6</span>), sharey<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'Normal'</span>], bins<span class="op">=</span><span class="dv">100</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axes[<span class="dv">0</span>])</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_title(<span class="st">"Normal Distribution"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'Gamma'</span>], bins<span class="op">=</span><span class="dv">100</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"salmon"</span>, ax<span class="op">=</span>axes[<span class="dv">1</span>])</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_title(<span class="st">"Gamma Distribution"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>sns.histplot(df[<span class="st">'Uniform'</span>], bins<span class="op">=</span><span class="dv">100</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"limegreen"</span>, ax<span class="op">=</span>axes[<span class="dv">2</span>])</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">2</span>].set_title(<span class="st">"Uniform Distribution"</span>, fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> axes:</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(<span class="st">"Value"</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(<span class="st">"Frequency"</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-31-output-1.png" width="1791" height="591" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="core-pandas-data-structures" class="level2">
<h2 class="anchored" data-anchor-id="core-pandas-data-structures">3. Core Pandas Data Structures</h2>
<section id="series" class="level3">
<h3 class="anchored" data-anchor-id="series">Series</h3>
<p>A <strong>Series</strong> is a one-dimensional labeled array. It can be created from a Python list or NumPy array, optionally providing a custom index. The index labels let you reference elements by name instead of by integer position.</p>
<div id="cell-41" class="cell" data-execution_count="110">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a Pandas Series</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>]</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">50</span>, <span class="dv">40</span>]</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>ser <span class="op">=</span> pd.Series(data, index<span class="op">=</span>labels, dtype<span class="op">=</span>np.float64)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>ser</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="110">
<pre><code>a    10.0
b     0.0
c    50.0
d    40.0
dtype: float64</code></pre>
</div>
</div>
<div id="cell-42" class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Other methods to create a Pandas Series</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> {<span class="st">'a'</span>: <span class="dv">10</span>, <span class="st">'b'</span>: <span class="dv">0</span>, <span class="st">'c'</span>: <span class="dv">50</span>, <span class="st">'d'</span>: <span class="dv">40</span>}</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>ser <span class="op">=</span> pd.Series(d)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>ser</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="113">
<pre><code>a    10
b     0
c    50
d    40
dtype: int64</code></pre>
</div>
</div>
<div id="cell-43" class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing by label - like a python dictionary</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Value at index 'c':"</span>, ser[<span class="st">'c'</span>])</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(d[<span class="st">'c'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Value at index 'c': 50
50</code></pre>
</div>
</div>
<div id="cell-44" class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vectorized ops</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Multiply entire Series by 2:"</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>ser<span class="op">*</span><span class="dv">2</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Multiply entire Series by 2:</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="116">
<pre><code>a     20
b      0
c    100
d     80
dtype: int64</code></pre>
</div>
</div>
<div id="cell-45" class="cell" data-execution_count="117">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>ser.sort_values()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="117">
<pre><code>b     0
a    10
d    40
c    50
dtype: int64</code></pre>
</div>
</div>
<div id="cell-46" class="cell" data-execution_count="118">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ser</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="118">
<pre><code>a    10
b     0
c    50
d    40
dtype: int64</code></pre>
</div>
</div>
<div id="cell-47" class="cell" data-execution_count="119">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>ser.sort_values(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>ser</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="119">
<pre><code>b     0
a    10
d    40
c    50
dtype: int64</code></pre>
</div>
</div>
<div id="cell-48" class="cell" data-execution_count="120">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>ser.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-39-output-1.png" width="543" height="413" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-49" class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>ser.sort_index(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>ser</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="122">
<pre><code>a    10
b     0
c    50
d    40
dtype: int64</code></pre>
</div>
</div>
<div id="cell-50" class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>ser.plot.bar()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-41-output-1.png" width="543" height="408" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-51" class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>ser.plot(kind<span class="op">=</span><span class="st">'bar'</span>, rot<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-42-output-1.png" width="543" height="413" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-52" class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>ser.plot(kind<span class="op">=</span><span class="st">'barh'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-43-output-1.png" width="534" height="413" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-53" class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing by position - like a numpy array</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Value at position 2:"</span>, ser.iloc[<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Value at position 2: 50</code></pre>
</div>
</div>
<div id="cell-54" class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>ser</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="128">
<pre><code>a    10
b     0
c    50
d    40
dtype: int64</code></pre>
</div>
</div>
<div id="cell-55" class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access by key - like a python dictionary</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Value at index 'c':"</span>, ser.loc[<span class="st">'c'</span>])</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Value at index 'c':"</span>, ser[<span class="st">'c'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Value at index 'c': 50

Value at index 'c': 50</code></pre>
</div>
</div>
<div id="cell-56" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>ser[<span class="st">'c'</span>], ser.loc[<span class="st">'c'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>(np.int64(50), np.int64(50))</code></pre>
</div>
</div>
<div id="cell-57" class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access range</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Values in range 1 to 3:"</span>)</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>ser.iloc[<span class="dv">1</span>:<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Values in range 1 to 3:</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="131">
<pre><code>b     0
c    50
dtype: int64</code></pre>
</div>
</div>
<div id="cell-58" class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># access range by label</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Values in range 'b' to 'd':"</span>)</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>ser.loc[<span class="st">'b'</span>:<span class="st">'d'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Values in range 'b' to 'd':</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="132">
<pre><code>b     0
c    50
d    40
dtype: int64</code></pre>
</div>
</div>
<div id="cell-59" class="cell" data-execution_count="133">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Other methods</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>ser.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="133">
<pre><code>count     4.000000
mean     25.000000
std      23.804761
min       0.000000
25%       7.500000
50%      25.000000
75%      42.500000
max      50.000000
dtype: float64</code></pre>
</div>
</div>
<div id="cell-60" class="cell" data-execution_count="139">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ser.mean(), <span class="bu">type</span>(ser.mean()), ser.mean().item(), <span class="bu">type</span>(ser.mean().item()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>25.0 &lt;class 'numpy.float64'&gt; 25.0 &lt;class 'float'&gt;</code></pre>
</div>
</div>
<div id="cell-61" class="cell" data-execution_count="141">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>ser</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="141">
<pre><code>a    10
b     0
c    50
d    40
dtype: int64</code></pre>
</div>
</div>
<div id="cell-62" class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>ser.rank()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="140">
<pre><code>a    2.0
b    1.0
c    4.0
d    3.0
dtype: float64</code></pre>
</div>
</div>
<div id="cell-63" class="cell" data-execution_count="142">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access numpy array from Pandas Series</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> ser.values</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Numpy array:"</span>, arr)</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Type of array:"</span>, <span class="bu">type</span>(arr))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Numpy array: [10  0 50 40]
Type of array: &lt;class 'numpy.ndarray'&gt;</code></pre>
</div>
</div>
<div id="cell-64" class="cell" data-execution_count="144">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>ser</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="144">
<pre><code>a    10
b     0
c    50
d    40
dtype: int64</code></pre>
</div>
</div>
<div id="cell-65" class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print series where elements are greater than 20</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>mask <span class="op">=</span> ser <span class="op">&gt;</span> <span class="dv">20</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mask)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>a    False
b    False
c     True
d     True
dtype: bool</code></pre>
</div>
</div>
<div id="cell-66" class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>ser[mask]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="146">
<pre><code>c    50
d    40
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="dataframe" class="level3">
<h3 class="anchored" data-anchor-id="dataframe">DataFrame</h3>
<p>A <strong>DataFrame</strong> is a 2D tabular data structure with labeled rows (index) and columns. Each column is essentially a Pandas Series.</p>
<p>We can build one from a dictionary of lists, or by reading data from external sources (CSV, SQL, Excel, etc.).</p>
<div id="cell-68" class="cell" data-execution_count="156">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a DataFrame from a dictionary</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>data_dict <span class="op">=</span> {</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>],</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Age'</span>: [<span class="dv">24</span>, <span class="dv">42</span>, <span class="dv">18</span>],</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Score'</span>: [<span class="fl">88.5</span>, <span class="fl">93.0</span>, <span class="fl">78.0</span>]</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data_dict)</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>df.index <span class="op">=</span> df[<span class="st">'Name'</span>]</span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.drop([<span class="st">'Name'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="156">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Score</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Alice</td>
<td>24</td>
<td>88.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Bob</td>
<td>42</td>
<td>93.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Charlie</td>
<td>18</td>
<td>78.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-69" class="cell" data-execution_count="158">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>df.plot(kind<span class="op">=</span><span class="st">'bar'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-59-output-1.png" width="543" height="467" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-71" class="cell" data-execution_count="150">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>data_dict <span class="op">=</span> {</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Name'</span>: [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>, <span class="st">'Charlie'</span>],</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Age'</span>: [<span class="dv">24</span>, <span class="dv">42</span>, <span class="dv">18</span>],</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Score'</span>: [<span class="fl">88.5</span>, <span class="fl">93.0</span>, <span class="fl">78.0</span>]</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data_dict)</span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="150">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alice</td>
<td>24</td>
<td>88.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Bob</td>
<td>42</td>
<td>93.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Charlie</td>
<td>18</td>
<td>78.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="indexing-selection" class="level2">
<h2 class="anchored" data-anchor-id="indexing-selection">4. Indexing &amp; Selection</h2>
<p><strong>DataFrame</strong> selection can occur by column name, row label/index name (<code>.loc</code>), or row position/numpy-array like indexing (<code>.iloc</code>). Boolean masks also apply.</p>
<ul>
<li><code>df[col]</code> =&gt; a Series of that column.</li>
<li><code>df.loc[row_label]</code> =&gt; row by label.</li>
<li><code>df.iloc[row_position]</code> =&gt; row by integer position.</li>
<li>Boolean indexing =&gt; <code>df[df['Age'] &gt; 20]</code>.</li>
<li><strong>Slicing</strong> =&gt; <code>df.loc['a':'b']</code>, <code>df.iloc[0:2]</code>.</li>
</ul>
<div id="cell-73" class="cell" data-execution_count="163">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.DataFrame({</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'X'</span>: np.random.rand(<span class="dv">5</span>),</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Y'</span>: np.random.rand(<span class="dv">5</span>),</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Z'</span>: np.random.randint(<span class="dv">1</span>,<span class="dv">10</span>,size<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>}, index<span class="op">=</span>[<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>,<span class="st">'e'</span>])</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="163">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">X</th>
<th data-quarto-table-cell-role="th">Y</th>
<th data-quarto-table-cell-role="th">Z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">a</td>
<td>0.996172</td>
<td>0.280775</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">b</td>
<td>0.578735</td>
<td>0.931498</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">c</td>
<td>0.654491</td>
<td>0.699822</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">d</td>
<td>0.172585</td>
<td>0.014937</td>
<td>9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">e</td>
<td>0.858278</td>
<td>0.753386</td>
<td>8</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-74" class="cell" data-execution_count="161">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="161">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">X</th>
<th data-quarto-table-cell-role="th">Y</th>
<th data-quarto-table-cell-role="th">Z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">a</td>
<td>0.967366</td>
<td>0.753478</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">b</td>
<td>0.401003</td>
<td>0.238826</td>
<td>6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">c</td>
<td>0.157301</td>
<td>0.384844</td>
<td>8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">d</td>
<td>0.016926</td>
<td>0.387394</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">e</td>
<td>0.659675</td>
<td>0.817511</td>
<td>4</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-75" class="cell" data-execution_count="164">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Select column 'Y':"</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df2[<span class="st">'Y'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Select column 'Y':
a    0.280775
b    0.931498
c    0.699822
d    0.014937
e    0.753386
Name: Y, dtype: float64</code></pre>
</div>
</div>
<div id="cell-76" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(df2[<span class="st">'Y'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>pandas.core.series.Series</code></pre>
</div>
</div>
<div id="cell-77" class="cell" data-execution_count="165">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Select row 'c' using loc:"</span>)</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>display(df2.loc[<span class="st">'c'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Select row 'c' using loc:</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>X    0.654491
Y    0.699822
Z    4.000000
Name: c, dtype: float64</code></pre>
</div>
</div>
<div id="cell-78" class="cell" data-execution_count="166">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Select row at position 2 using iloc:"</span>)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>display(df2.iloc[<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Select row at position 2 using iloc:</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>X    0.654491
Y    0.699822
Z    4.000000
Name: c, dtype: float64</code></pre>
</div>
</div>
<div id="cell-79" class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Boolean mask: rows where Z &gt; 5"</span>)</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>mask <span class="op">=</span> df2[<span class="st">'Z'</span>] <span class="op">&gt;</span> <span class="dv">5</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>display(df2[mask])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Boolean mask: rows where Z &gt; 5</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">X</th>
<th data-quarto-table-cell-role="th">Y</th>
<th data-quarto-table-cell-role="th">Z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">a</td>
<td>0.996172</td>
<td>0.280775</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">d</td>
<td>0.172585</td>
<td>0.014937</td>
<td>9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">e</td>
<td>0.858278</td>
<td>0.753386</td>
<td>8</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-80" class="cell" data-execution_count="168">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># loc to address by row, col "names" AND iloc to address by row, col "indices"</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df2.loc[<span class="st">'c'</span>, <span class="st">'Y'</span>], df2.iloc[<span class="dv">2</span>, <span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.6998221861720456 0.6998221861720456</code></pre>
</div>
</div>
<div id="cell-81" class="cell" data-execution_count="169">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select multiple rows</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Select rows 'a' and 'c':"</span>)</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>display(df2.loc[[<span class="st">'a'</span>, <span class="st">'c'</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Select rows 'a' and 'c':</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">X</th>
<th data-quarto-table-cell-role="th">Y</th>
<th data-quarto-table-cell-role="th">Z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">a</td>
<td>0.996172</td>
<td>0.280775</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">c</td>
<td>0.654491</td>
<td>0.699822</td>
<td>4</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-82" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select multiple columns</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Select columns 'X' and 'Z':"</span>)</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>display(df2[[<span class="st">'X'</span>, <span class="st">'Z'</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Select columns 'X' and 'Z':</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">X</th>
<th data-quarto-table-cell-role="th">Z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">a</td>
<td>0.610954</td>
<td>6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">b</td>
<td>0.059152</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">c</td>
<td>0.483286</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">d</td>
<td>0.325020</td>
<td>8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">e</td>
<td>0.059134</td>
<td>3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-83" class="cell" data-execution_count="174">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use loc notation to select multiple column</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Select columns 'X' and 'Z' using loc:"</span>)</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="co">#display(df2.loc[:, ['X', 'Z']])</span></span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Select rows 'b' and 'd' and columns 'X' and 'Z'</span></span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>rows_to_select <span class="op">=</span> [<span class="st">'b'</span>, <span class="st">'d'</span>]</span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a>cols_to_select <span class="op">=</span> [<span class="st">'X'</span>, <span class="st">'Z'</span>]</span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>df2.loc[rows_to_select, cols_to_select]</span>
<span id="cb124-10"><a href="#cb124-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-11"><a href="#cb124-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-12"><a href="#cb124-12" aria-hidden="true" tabindex="-1"></a>df2.loc[<span class="st">'b'</span>:<span class="st">'d'</span>, <span class="st">'Y'</span>:<span class="st">'Z'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Select columns 'X' and 'Z' using loc:</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="174">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Y</th>
<th data-quarto-table-cell-role="th">Z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">b</td>
<td>0.931498</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">c</td>
<td>0.699822</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">d</td>
<td>0.014937</td>
<td>9</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-84" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select rows and columns</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Select rows 'b' and 'd', columns 'Y' and 'Z':"</span>)</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>display(df2.loc[[<span class="st">'b'</span>, <span class="st">'d'</span>], [<span class="st">'Y'</span>, <span class="st">'Z'</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Select rows 'b' and 'd', columns 'Y' and 'Z':</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Y</th>
<th data-quarto-table-cell-role="th">Z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">b</td>
<td>0.895559</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">d</td>
<td>0.573120</td>
<td>8</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="merging-joining-data" class="level2">
<h2 class="anchored" data-anchor-id="merging-joining-data">5. Merging &amp; Joining Data</h2>
<p>Pandas provides efficient ways to combine datasets:</p>
<ul>
<li><code>pd.concat([df1, df2])</code>: Stack DataFrames (row or column-wise). Preferred for simple stacking horizontally or vertically.</li>
<li><code>df1.append(df2)</code>: Similar to concat row-wise but less efficient since it involves creation of a new index.</li>
<li><code>pd.merge(df1, df2, on='key')</code>: Database-style merges. Also <code>left_on</code>, <code>right_on</code>, <code>left_index</code>, <code>right_index</code>.</li>
</ul>
<p>We can specify <strong>how</strong> to merge: ‘inner’, ‘outer’, ‘left’, ‘right’.</p>
<section id="concatenation-of-two-dataframes-with-same-columns---just-stacks-them-vertically-along-with-their-indices" class="level4">
<h4 class="anchored" data-anchor-id="concatenation-of-two-dataframes-with-same-columns---just-stacks-them-vertically-along-with-their-indices">Concatenation of two dataframes with same columns - just stacks them vertically along with their indices</h4>
<div id="cell-87" class="cell" data-execution_count="175">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> pd.DataFrame({<span class="st">'A'</span>: [<span class="st">'A0'</span>, <span class="st">'A1'</span>], <span class="st">'B'</span>: [<span class="st">'B0'</span>, <span class="st">'B1'</span>]}, index<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">1</span>])</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> pd.DataFrame({<span class="st">'A'</span>: [<span class="st">'A2'</span>, <span class="st">'A3'</span>], <span class="st">'B'</span>: [<span class="st">'B2'</span>, <span class="st">'B3'</span>]}, index<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">1</span>])</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>df_concat <span class="op">=</span> pd.concat([x, y])</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>display(<span class="st">"x:"</span>)</span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>display(x)</span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>display(<span class="st">"y:"</span>)</span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>display(y)</span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a>display(<span class="st">"pd.concat([x, y]):"</span>)</span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a>display(df_concat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>'x:'</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A0</td>
<td>B0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A1</td>
<td>B1</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>'y:'</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A2</td>
<td>B2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A3</td>
<td>B3</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>'pd.concat([x, y]):'</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A0</td>
<td>B0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A1</td>
<td>B1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A2</td>
<td>B2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A3</td>
<td>B3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="having-similar-indices-will-result-in-ambuiguity-in-addressing-the-rows-so-we-need-to-reset-the-index-or-use-ignore_indextrue" class="level4">
<h4 class="anchored" data-anchor-id="having-similar-indices-will-result-in-ambuiguity-in-addressing-the-rows-so-we-need-to-reset-the-index-or-use-ignore_indextrue">Having similar indices will result in ambuiguity in addressing the rows, so we need to reset the index or use <code>ignore_index=True</code></h4>
<div id="cell-89" class="cell" data-execution_count="176">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>df_concat.loc[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="176">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A0</td>
<td>B0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">0</td>
<td>A2</td>
<td>B2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-90" class="cell" data-execution_count="178">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.concat([x, y], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="178">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A0</td>
<td>B0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A1</td>
<td>B1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>A2</td>
<td>B2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>A3</td>
<td>B3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="example-specifying-the-axis-of-concatenation---row-wise-or-column-wise." class="level4">
<h4 class="anchored" data-anchor-id="example-specifying-the-axis-of-concatenation---row-wise-or-column-wise.">Example specifying the axis of concatenation - row-wise or column-wise.</h4>
<div id="cell-92" class="cell" data-execution_count="179">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> pd.DataFrame({<span class="st">'C'</span>: [<span class="st">'C0'</span>, <span class="st">'C1'</span>], <span class="st">'D'</span>: [<span class="st">'D0'</span>, <span class="st">'D1'</span>]}, index<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">1</span>])</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>df_col_combine <span class="op">=</span> pd.concat([x, z], axis<span class="op">=</span><span class="st">'columns'</span>)</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>display(<span class="st">"x:"</span>)</span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>display(x)</span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>display(<span class="st">"z:"</span>)</span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>display(z)</span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a>display(<span class="st">"pd.concat([x, z], axis='columns'):"</span>)</span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a>display(df_col_combine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>'x:'</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A0</td>
<td>B0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A1</td>
<td>B1</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>'z:'</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>C0</td>
<td>D0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>C1</td>
<td>D1</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>"pd.concat([x, z], axis='columns'):"</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>A0</td>
<td>B0</td>
<td>C0</td>
<td>D0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>A1</td>
<td>B1</td>
<td>C1</td>
<td>D1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="lets-use-seaborns-tips-dataset-to-demonstrate-merges." class="level4">
<h4 class="anchored" data-anchor-id="lets-use-seaborns-tips-dataset-to-demonstrate-merges.">Let’s use seaborn’s ‘tips’ dataset to demonstrate merges.</h4>
<div id="cell-94" class="cell" data-execution_count="180">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>tips <span class="op">=</span> sns.load_dataset(<span class="st">'tips'</span>)  <span class="co"># Load the 'tips' dataset from seaborn</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"'tips' dataset shape:"</span>, tips.shape)  <span class="co"># Print the shape (rows, columns) of the dataset</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>display(tips.head())  <span class="co"># Show the first 5 rows of the dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'tips' dataset shape: (244, 7)</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">total_bill</th>
<th data-quarto-table-cell-role="th">tip</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">smoker</th>
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">size</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>16.99</td>
<td>1.01</td>
<td>Female</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>10.34</td>
<td>1.66</td>
<td>Male</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>21.01</td>
<td>3.50</td>
<td>Male</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>23.68</td>
<td>3.31</td>
<td>Male</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>24.59</td>
<td>3.61</td>
<td>Female</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>4</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-95" class="cell" data-execution_count="181">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>is_vip <span class="op">=</span> np.random.choice([<span class="va">True</span>, <span class="va">False</span>], size<span class="op">=</span><span class="bu">len</span>(tips))  <span class="co"># Randomly assign VIP status (True/False) to each row</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>customer_ids <span class="op">=</span> np.arange(<span class="dv">1</span>, <span class="bu">len</span>(tips) <span class="op">+</span> <span class="dv">1</span>)  <span class="co"># Create unique customer IDs starting from 1</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>np.random.shuffle(customer_ids)  <span class="co"># Shuffle the customer IDs randomly</span></span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a>vip_info <span class="op">=</span> pd.DataFrame({</span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'customer_id'</span>: customer_ids,  <span class="co"># Assign customer IDs</span></span>
<span id="cb140-8"><a href="#cb140-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'vip'</span>: is_vip  <span class="co"># Assign the corresponding VIP status</span></span>
<span id="cb140-9"><a href="#cb140-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb140-10"><a href="#cb140-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-11"><a href="#cb140-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"VIP info:"</span>)</span>
<span id="cb140-12"><a href="#cb140-12" aria-hidden="true" tabindex="-1"></a>display(vip_info)  <span class="co"># Display the VIP information table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>VIP info:</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">customer_id</th>
<th data-quarto-table-cell-role="th">vip</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>119</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>148</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>84</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>76</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">239</td>
<td>218</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">240</td>
<td>146</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">241</td>
<td>176</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">242</td>
<td>164</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">243</td>
<td>19</td>
<td>True</td>
</tr>
</tbody>
</table>

<p>244 rows × 2 columns</p>
</div>
</div>
</div>
<div id="cell-96" class="cell" data-execution_count="182">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>tips_ext <span class="op">=</span> tips.copy()  <span class="co"># Create a copy of the original 'tips' dataset</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>new_customer_ids <span class="op">=</span> np.arange(<span class="dv">1</span>, <span class="bu">len</span>(tips) <span class="op">+</span> <span class="dv">1</span>)  <span class="co"># Generate new unique customer IDs</span></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>np.random.shuffle(new_customer_ids)  <span class="co"># Shuffle the customer IDs randomly</span></span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>tips_ext[<span class="st">'customer_id'</span>] <span class="op">=</span> new_customer_ids  <span class="co"># Add the shuffled customer IDs as a new column</span></span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Extended tips:"</span>)</span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a>display(tips_ext)  <span class="co"># Show the extended dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Extended tips:</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">total_bill</th>
<th data-quarto-table-cell-role="th">tip</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">smoker</th>
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">size</th>
<th data-quarto-table-cell-role="th">customer_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>16.99</td>
<td>1.01</td>
<td>Female</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>2</td>
<td>32</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>10.34</td>
<td>1.66</td>
<td>Male</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>3</td>
<td>22</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>21.01</td>
<td>3.50</td>
<td>Male</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>3</td>
<td>136</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>23.68</td>
<td>3.31</td>
<td>Male</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>2</td>
<td>137</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>24.59</td>
<td>3.61</td>
<td>Female</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>4</td>
<td>156</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">239</td>
<td>29.03</td>
<td>5.92</td>
<td>Male</td>
<td>No</td>
<td>Sat</td>
<td>Dinner</td>
<td>3</td>
<td>228</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">240</td>
<td>27.18</td>
<td>2.00</td>
<td>Female</td>
<td>Yes</td>
<td>Sat</td>
<td>Dinner</td>
<td>2</td>
<td>84</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">241</td>
<td>22.67</td>
<td>2.00</td>
<td>Male</td>
<td>Yes</td>
<td>Sat</td>
<td>Dinner</td>
<td>2</td>
<td>219</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">242</td>
<td>17.82</td>
<td>1.75</td>
<td>Male</td>
<td>No</td>
<td>Sat</td>
<td>Dinner</td>
<td>2</td>
<td>241</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">243</td>
<td>18.78</td>
<td>3.00</td>
<td>Female</td>
<td>No</td>
<td>Thur</td>
<td>Dinner</td>
<td>2</td>
<td>209</td>
</tr>
</tbody>
</table>

<p>244 rows × 8 columns</p>
</div>
</div>
</div>
<div id="cell-97" class="cell" data-execution_count="183">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>merged <span class="op">=</span> pd.merge(tips_ext, vip_info, on<span class="op">=</span><span class="st">'customer_id'</span>, how<span class="op">=</span><span class="st">'left'</span>)  <span class="co"># Merge the datasets using 'customer_id'</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Merged Data:"</span>)</span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>display(merged)  <span class="co"># Display the merged dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Merged Data:</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">total_bill</th>
<th data-quarto-table-cell-role="th">tip</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">smoker</th>
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">size</th>
<th data-quarto-table-cell-role="th">customer_id</th>
<th data-quarto-table-cell-role="th">vip</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>16.99</td>
<td>1.01</td>
<td>Female</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>2</td>
<td>32</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>10.34</td>
<td>1.66</td>
<td>Male</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>3</td>
<td>22</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>21.01</td>
<td>3.50</td>
<td>Male</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>3</td>
<td>136</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>23.68</td>
<td>3.31</td>
<td>Male</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>2</td>
<td>137</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>24.59</td>
<td>3.61</td>
<td>Female</td>
<td>No</td>
<td>Sun</td>
<td>Dinner</td>
<td>4</td>
<td>156</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">239</td>
<td>29.03</td>
<td>5.92</td>
<td>Male</td>
<td>No</td>
<td>Sat</td>
<td>Dinner</td>
<td>3</td>
<td>228</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">240</td>
<td>27.18</td>
<td>2.00</td>
<td>Female</td>
<td>Yes</td>
<td>Sat</td>
<td>Dinner</td>
<td>2</td>
<td>84</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">241</td>
<td>22.67</td>
<td>2.00</td>
<td>Male</td>
<td>Yes</td>
<td>Sat</td>
<td>Dinner</td>
<td>2</td>
<td>219</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">242</td>
<td>17.82</td>
<td>1.75</td>
<td>Male</td>
<td>No</td>
<td>Sat</td>
<td>Dinner</td>
<td>2</td>
<td>241</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">243</td>
<td>18.78</td>
<td>3.00</td>
<td>Female</td>
<td>No</td>
<td>Thur</td>
<td>Dinner</td>
<td>2</td>
<td>209</td>
<td>True</td>
</tr>
</tbody>
</table>

<p>244 rows × 9 columns</p>
</div>
</div>
</div>
</section>
</section>
<section id="groupby-aggregation" class="level2">
<h2 class="anchored" data-anchor-id="groupby-aggregation">6. GroupBy &amp; Aggregation</h2>
<p>The <strong>GroupBy</strong> abstraction splits data into groups, applies operations, then combines results. Common for summarizing numeric columns by categories.</p>
<section id="example-with-tips-data" class="level3">
<h3 class="anchored" data-anchor-id="example-with-tips-data">Example with tips data</h3>
<p>We’ll group by day of the week and compute average tip, total tip, etc.</p>
<div id="cell-99" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>tips.loc[:, <span class="st">'day'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="69">
<pre><code>0       Sun
1       Sun
2       Sun
3       Sun
4       Sun
       ... 
239     Sat
240     Sat
241     Sat
242     Sat
243    Thur
Name: day, Length: 244, dtype: category
Categories (4, object): ['Thur', 'Fri', 'Sat', 'Sun']</code></pre>
</div>
</div>
<div id="cell-100" class="cell" data-execution_count="184">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>tips[<span class="st">'day'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="184">
<pre><code>day
Sat     87
Sun     76
Thur    62
Fri     19
Name: count, dtype: int64</code></pre>
</div>
</div>
<div id="cell-101" class="cell" data-execution_count="187">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Unique values in the 'day' column</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>unique_days <span class="op">=</span> tips[<span class="st">'day'</span>].unique()</span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Unique days:"</span>, unique_days)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unique days: ['Sun', 'Sat', 'Thur', 'Fri']
Categories (4, object): ['Thur', 'Fri', 'Sat', 'Sun']</code></pre>
</div>
</div>
<div id="cell-102" class="cell" data-execution_count="188">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>mask <span class="op">=</span> tips[<span class="st">'day'</span>] <span class="op">==</span> <span class="st">'Sun'</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>mask</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="188">
<pre><code>0       True
1       True
2       True
3       True
4       True
       ...  
239    False
240    False
241    False
242    False
243    False
Name: day, Length: 244, dtype: bool</code></pre>
</div>
</div>
<div id="cell-103" class="cell" data-execution_count="189">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>tips[mask][<span class="st">'tip'</span>].mean().item()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="189">
<pre><code>3.2551315789473687</code></pre>
</div>
</div>
<div id="cell-104" class="cell" data-execution_count="190">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>out <span class="op">=</span> {}</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> day <span class="kw">in</span> unique_days:</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>    mask <span class="op">=</span> tips[<span class="st">'day'</span>] <span class="op">==</span> day</span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>    out[day] <span class="op">=</span> tips[mask][<span class="st">'tip'</span>].mean().item()</span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a>out</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="190">
<pre><code>{'Sun': 3.2551315789473687,
 'Sat': 2.993103448275862,
 'Thur': 2.771451612903225,
 'Fri': 2.7347368421052627}</code></pre>
</div>
</div>
<div id="cell-105" class="cell" data-execution_count="192">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>ser <span class="op">=</span> pd.Series(out)</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>ser.plot(kind<span class="op">=</span><span class="st">'bar'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="introduction-pandas_files/figure-html/cell-88-output-1.png" width="547" height="431" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-106" class="cell" data-execution_count="194">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>grpby <span class="op">=</span> tips.groupby(<span class="st">'day'</span>, observed<span class="op">=</span><span class="va">True</span>)[<span class="st">'tip'</span>]</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>grpby.mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="194">
<pre><code>day
Thur    2.771452
Fri     2.734737
Sat     2.993103
Sun     3.255132
Name: tip, dtype: float64</code></pre>
</div>
</div>
<div id="cell-107" class="cell" data-execution_count="195">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group tips by 'day' column, aggregate 'tip' in different ways</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>grouped <span class="op">=</span> tips.groupby(<span class="st">'day'</span>, observed<span class="op">=</span><span class="va">True</span>)[<span class="st">'tip'</span>]</span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mean tip by day:"</span>)</span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>display(grouped.mean())</span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Multiple Aggregations (count, sum, mean):"</span>)</span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a>display(grouped.agg([<span class="st">'count'</span>,<span class="st">'sum'</span>,<span class="st">'mean'</span>,<span class="st">'std'</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Mean tip by day:</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>day
Thur    2.771452
Fri     2.734737
Sat     2.993103
Sun     3.255132
Name: tip, dtype: float64</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Multiple Aggregations (count, sum, mean):</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">sum</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Thur</td>
<td>62</td>
<td>171.83</td>
<td>2.771452</td>
<td>1.240223</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Fri</td>
<td>19</td>
<td>51.96</td>
<td>2.734737</td>
<td>1.019577</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Sat</td>
<td>87</td>
<td>260.40</td>
<td>2.993103</td>
<td>1.631014</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Sun</td>
<td>76</td>
<td>247.39</td>
<td>3.255132</td>
<td>1.234880</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Multiple Grouping Keys</strong>: We can group by multiple columns, e.g.&nbsp;day and time (Lunch/Dinner).</p>
<div id="cell-109" class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>multi_grouped <span class="op">=</span> tips.groupby([<span class="st">'day'</span>, <span class="st">'time'</span>], observed<span class="op">=</span><span class="va">True</span>)[<span class="st">'total_bill'</span>].agg([<span class="st">'mean'</span>,<span class="st">'size'</span>])</span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>multi_grouped</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="78">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">size</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">Thur</td>
<td data-quarto-table-cell-role="th">Lunch</td>
<td>17.664754</td>
<td>61</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Dinner</td>
<td>18.780000</td>
<td>1</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">Fri</td>
<td data-quarto-table-cell-role="th">Lunch</td>
<td>12.845714</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Dinner</td>
<td>19.663333</td>
<td>12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Sat</td>
<td data-quarto-table-cell-role="th">Dinner</td>
<td>20.441379</td>
<td>87</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Sun</td>
<td data-quarto-table-cell-role="th">Dinner</td>
<td>21.410000</td>
<td>76</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="pivot-tables" class="level2">
<h2 class="anchored" data-anchor-id="pivot-tables">7. Pivot Tables</h2>
<p>Pivot tables provide a 2D summarization akin to spreadsheets:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>df.pivot_table(values<span class="op">=</span><span class="st">'col'</span>, index<span class="op">=</span><span class="st">'rows'</span>, columns<span class="op">=</span><span class="st">'cols'</span>, aggfunc<span class="op">=</span><span class="st">'mean'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can also specify margins (<code>margins=True</code>) to get row/column totals.</p>
<div id="cell-111" class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot example using 'tips'</span></span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>pivot_tips <span class="op">=</span> tips.pivot_table(</span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>    values<span class="op">=</span><span class="st">'tip'</span>,</span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span><span class="st">'day'</span>,</span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span><span class="st">'time'</span>,</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>    aggfunc<span class="op">=</span><span class="st">'mean'</span>,</span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a>    margins<span class="op">=</span><span class="va">True</span>, observed<span class="op">=</span><span class="va">True</span></span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb167-9"><a href="#cb167-9" aria-hidden="true" tabindex="-1"></a>pivot_tips</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">Lunch</th>
<th data-quarto-table-cell-role="th">Dinner</th>
<th data-quarto-table-cell-role="th">All</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Thur</td>
<td>2.767705</td>
<td>3.000000</td>
<td>2.771452</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Fri</td>
<td>2.382857</td>
<td>2.940000</td>
<td>2.734737</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Sat</td>
<td>NaN</td>
<td>2.993103</td>
<td>2.993103</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Sun</td>
<td>NaN</td>
<td>3.255132</td>
<td>3.255132</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">All</td>
<td>2.728088</td>
<td>3.102670</td>
<td>2.998279</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-112" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># handling nan values by filling them with 0</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>tips_fillna <span class="op">=</span> pivot_tips.fillna(<span class="dv">0</span>, inplace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="co"># handling nan values by dropping them</span></span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a>tips_dropna <span class="op">=</span> pivot_tips.dropna()</span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a>display(tips_fillna)</span>
<span id="cb168-8"><a href="#cb168-8" aria-hidden="true" tabindex="-1"></a>display(tips_dropna)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">Lunch</th>
<th data-quarto-table-cell-role="th">Dinner</th>
<th data-quarto-table-cell-role="th">All</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Thur</td>
<td>2.767705</td>
<td>3.000000</td>
<td>2.771452</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Fri</td>
<td>2.382857</td>
<td>2.940000</td>
<td>2.734737</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Sat</td>
<td>0.000000</td>
<td>2.993103</td>
<td>2.993103</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Sun</td>
<td>0.000000</td>
<td>3.255132</td>
<td>3.255132</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">All</td>
<td>2.728088</td>
<td>3.102670</td>
<td>2.998279</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">Lunch</th>
<th data-quarto-table-cell-role="th">Dinner</th>
<th data-quarto-table-cell-role="th">All</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Thur</td>
<td>2.767705</td>
<td>3.00000</td>
<td>2.771452</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Fri</td>
<td>2.382857</td>
<td>2.94000</td>
<td>2.734737</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">All</td>
<td>2.728088</td>
<td>3.10267</td>
<td>2.998279</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="string-operations" class="level2">
<h2 class="anchored" data-anchor-id="string-operations">8. String Operations</h2>
<p>Pandas offers vectorized string methods under <code>str</code>. They handle missing data gracefully and allow powerful regex usage.</p>
<p>Key methods: - <strong>case changes</strong>: <code>.str.lower()</code>, <code>.str.upper()</code>, <code>.str.title()</code>, etc. - <strong>trimming</strong>: <code>.str.strip()</code>, <code>.str.rstrip()</code>, etc. - <strong>Regex</strong>: <code>.str.contains()</code>, <code>.str.extract()</code>, <code>.str.replace()</code>. - <strong>split</strong>: <code>.str.split()</code>, <code>.str.get()</code>, etc.</p>
<div id="cell-114" class="cell" data-execution_count="196">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example: string cleaning</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>s_str <span class="op">=</span> pd.Series([<span class="st">"  HELLO  "</span>, <span class="st">"world! "</span>, <span class="va">None</span>, <span class="st">"PyTHon 3.9 "</span>, <span class="st">"pandas is COOL "</span>], name<span class="op">=</span><span class="st">'mystrings'</span>)</span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Original:"</span>)</span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a>display(s_str)</span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Lower + strip</span></span>
<span id="cb169-7"><a href="#cb169-7" aria-hidden="true" tabindex="-1"></a>cleaned <span class="op">=</span> s_str.<span class="bu">str</span>.lower().<span class="bu">str</span>.strip()</span>
<span id="cb169-8"><a href="#cb169-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-9"><a href="#cb169-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Cleaned:"</span>)</span>
<span id="cb169-10"><a href="#cb169-10" aria-hidden="true" tabindex="-1"></a>display(cleaned)</span>
<span id="cb169-11"><a href="#cb169-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-12"><a href="#cb169-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Contains 'python'?</span></span>
<span id="cb169-13"><a href="#cb169-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Contains 'python'?"</span>)</span>
<span id="cb169-14"><a href="#cb169-14" aria-hidden="true" tabindex="-1"></a>display(cleaned.<span class="bu">str</span>.contains(<span class="st">'python'</span>))</span>
<span id="cb169-15"><a href="#cb169-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-16"><a href="#cb169-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace 'is' with 'IS'</span></span>
<span id="cb169-17"><a href="#cb169-17" aria-hidden="true" tabindex="-1"></a>replaced <span class="op">=</span> cleaned.<span class="bu">str</span>.replace(<span class="st">'is'</span>, <span class="st">'IS'</span>, case<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb169-18"><a href="#cb169-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Replaced 'is':"</span>)</span>
<span id="cb169-19"><a href="#cb169-19" aria-hidden="true" tabindex="-1"></a>display(replaced)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Original:</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>0            HELLO  
1            world! 
2               None
3        PyTHon 3.9 
4    pandas is COOL 
Name: mystrings, dtype: object</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Cleaned:</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>0             hello
1            world!
2              None
3        python 3.9
4    pandas is cool
Name: mystrings, dtype: object</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Contains 'python'?</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>0    False
1    False
2     None
3     True
4    False
Name: mystrings, dtype: object</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Replaced 'is':</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>0             hello
1            world!
2              None
3        python 3.9
4    pandas IS cool
Name: mystrings, dtype: object</code></pre>
</div>
</div>
<p>The presence of <code>None</code> doesn’t break things: the <code>.str</code> accessor handles missing data by returning <code>NaN</code> in operations.</p>
</section>
<section id="using-eval-query" class="level2">
<h2 class="anchored" data-anchor-id="using-eval-query">9. Using <code>eval()</code> &amp; <code>query()</code></h2>
<p><strong><code>eval()</code></strong> allows efficient expression evaluation on DataFrame columns:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>df.<span class="bu">eval</span>(<span class="st">'NewCol = (A + B) / C'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can treat column names like variables, and skip creation of large temporary arrays.</p>
<p><strong><code>query()</code></strong> provides a more readable syntax for row selection:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>df.query(<span class="st">'A &lt; 5 and B &gt; 2'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="cell-117" class="cell" data-execution_count="82">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>df_eval <span class="op">=</span> pd.DataFrame({</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'A'</span>: np.random.randn(<span class="dv">5</span>),</span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'B'</span>: np.random.randn(<span class="dv">5</span>),</span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'C'</span>: np.random.randn(<span class="dv">5</span>)</span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb180-6"><a href="#cb180-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Before eval:"</span>)</span>
<span id="cb180-7"><a href="#cb180-7" aria-hidden="true" tabindex="-1"></a>display(df_eval)</span>
<span id="cb180-8"><a href="#cb180-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-9"><a href="#cb180-9" aria-hidden="true" tabindex="-1"></a>df_eval.<span class="bu">eval</span>(<span class="st">'D = (A + B) * C'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb180-10"><a href="#cb180-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">After eval, new column 'D':"</span>)</span>
<span id="cb180-11"><a href="#cb180-11" aria-hidden="true" tabindex="-1"></a>display(df_eval)</span>
<span id="cb180-12"><a href="#cb180-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-13"><a href="#cb180-13" aria-hidden="true" tabindex="-1"></a><span class="co"># query</span></span>
<span id="cb180-14"><a href="#cb180-14" aria-hidden="true" tabindex="-1"></a>res_q <span class="op">=</span> df_eval.query(<span class="st">'D &gt; 0'</span>)</span>
<span id="cb180-15"><a href="#cb180-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Rows where D &gt; 0:"</span>)</span>
<span id="cb180-16"><a href="#cb180-16" aria-hidden="true" tabindex="-1"></a>display(res_q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Before eval:</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-1.065378</td>
<td>-0.126780</td>
<td>0.644445</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>-2.225845</td>
<td>-0.966845</td>
<td>-1.219053</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>-1.012120</td>
<td>0.980824</td>
<td>-0.766431</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>-1.453329</td>
<td>0.220464</td>
<td>-2.387369</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>-0.756387</td>
<td>0.964827</td>
<td>1.534876</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
After eval, new column 'D':</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-1.065378</td>
<td>-0.126780</td>
<td>0.644445</td>
<td>-0.768281</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>-2.225845</td>
<td>-0.966845</td>
<td>-1.219053</td>
<td>3.892059</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>-1.012120</td>
<td>0.980824</td>
<td>-0.766431</td>
<td>0.023986</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>-1.453329</td>
<td>0.220464</td>
<td>-2.387369</td>
<td>2.943305</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>-0.756387</td>
<td>0.964827</td>
<td>1.534876</td>
<td>0.319929</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Rows where D &gt; 0:</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>-2.225845</td>
<td>-0.966845</td>
<td>-1.219053</td>
<td>3.892059</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>-1.012120</td>
<td>0.980824</td>
<td>-0.766431</td>
<td>0.023986</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>-1.453329</td>
<td>0.220464</td>
<td>-2.387369</td>
<td>2.943305</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>-0.756387</td>
<td>0.964827</td>
<td>1.534876</td>
<td>0.319929</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/nipunbatra\.github\.io\/psdv-teaching\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>